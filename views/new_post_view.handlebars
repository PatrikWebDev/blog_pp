<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>


<h1>New Post View</h1>
<form method="POST" action="/newPost" id="blogsubmit">
<label>Title</label>
<input type="text" name="title" required>
<label>content</label>
<input id="blogcontent" type="hidden" name="content" value="">
<div id="editor">
</div>
<br>
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">Discard</button>
<button type="submit" name="newBlogPost" value="Publish">Publish</button>

</form>
{{fail}}

<div class="modal" tabindex="-1" role="dialog" id="exampleModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Discarding</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Discard changes?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-secondary" ><a href="http://localhost:3000/admin">Confirm</a></button>
      </div>
    </div>
  </div>
</div>




<script>
 var quill = new Quill('#editor', {
                modules: {
                        toolbar: [
                                ['bold', 'italic'],
                                ['link', 'blockquote', 'code-block', 'image'],
                                [{ list: 'ordered' }, { list: 'bullet' }]
                        ]
                },
                placeholder: 'Compose an epic...',
                theme: 'snow'
        });
        var form = document.querySelector('form');
        form.onsubmit = function () {
                // Populate hidden form on submit
                var submitcontent = document.querySelector('input[name=content]');
                submitcontent.value = quill.root.innerHTML;
        };

</script>
